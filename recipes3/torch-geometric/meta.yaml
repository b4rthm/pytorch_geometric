{% set name = "torch-geometric" %}
{% set version = "1.3.1" %}

package:
  name: "{{ name|lower }}"
  version: "{{ version }}"

source:
  url: "https://files.pythonhosted.org/packages/e8/e2/4765baa17abf54c71ef5c8a9ad889c24c794b24b2a535ee84816780f2d39/torch_geometric-{{ version }}.tar.gz"
  sha256: "910ed5013955e24bb8e2c336f0e3feae3e122ea3c9913102e5ed14b1efbdf89b"

build:
  number: 0
#  preserve_egg_dir: True
  script: "{ PYTHON } -m pip install . --no-deps --ignore-installed -vv "

requirements:
  build:
    - pip
    - git
    - python ==3.7
  host:
    - pytest-runner
    - python
    - pytorch
    - scipy 
  run:
    - h5py
    - networkx
    - numpy
    - pandas
#    - plyfile
    - python
#    - rdflib
    - scikit-learn
    - scipy
#    - torch-sparse
#    - torch-cluster
    - requests 
#    - {{ pin_subpackage('torch-scatter') }}
    - torch-scatter

test:
  requires:
    - mock
    - pytest
    - pytest-cov
    - pytorch >=1.1.0

outputs:
  - name: torch-scatter
    version: 1.3.1
#    script: install_scatter.sh
#    source:
#      url:  "https://files.pythonhosted.org/packages/35/d4/750403a8aa32cdb3d2d05849c6a10e4e0604de5e0cc94b81a0d0d69a75f3/torch_scatter-1.3.1.tar.gz"
#      sha256: "54cbad248350165ddc921ded3fe7a69be5d30c6536273a1a3282e375289f86ec"
#    build:   
#      number: 0
#      script: "{{ PYTHON }} -m pip install . --no-deps --ignore-installed -vv "
#    test:
#      imports:
#        - torch_scatter
#        - torch_scatter.utils
#      requires:
#        - pytorch ==1.1.0
#        - pytest
#        - pytest-cov




about:
  home: "https://github.com/rusty1s/pytorch_geometric"
  license: "UNKNOWN"
  license_family: "OTHER"
  license_file: ""
  summary: "Geometric Deep Learning Extension Library for PyTorch"
  doc_url: ""
  dev_url: ""

extra:
  recipe-maintainers:
    - your-github-id-here
